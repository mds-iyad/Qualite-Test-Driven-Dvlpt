import test from 'ava';
import storage from './index';
import json_data from './data.json';

test('import should be an object', t => {
  t.is(typeof storage, 'object');
});

test('set_plain && get_plain', t => {
  storage.set_plain("Name", "Nitin");
  t.deepEqual(storage.get_plain("Name"), "Nitin");
});

test('set_JSON && get_JSON', t => {
  storage.set_JSON("articles", json_data);
  t.deepEqual(storage.get_JSON("articles"), json_data);
});

test('should be functions', t => {
  t.is(typeof storage.set_plain, 'function');
  t.is(typeof storage.set_JSON, 'function');
  t.is(typeof storage.get_plain, 'function');
  t.is(typeof storage.get_JSON, 'function');
});

test('throws', t => {
    const error = t.throws(() => {
        storage.set_plain(key, state);
    }, Error);

    const error_two = t.throws(() => {
        storage.set_JSON(key, state);
    }, Error);

    const error_three = t.throws(() => {
        storage.get_plain(name);
    }, Error);

    const error_four = t.throws(() => {
        storage.get_JSON(name);
    }, Error);
});
